import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{r as t}from"./iframe-Bb7R-1FN.js";import{g as B,R as K}from"./responsive-CMR7KYFx.js";const Z={openDuration:50,closeDuration:350,cyberpunkEffects:!0},W=t.memo(({src:y,alt:r,size:w="md",preview:i=!0,fallback:c,placeholder:k,className:j="",animation:U,eager:b=!1,previewClassName:V="",onPreviewOpen:E,onPreviewClose:N,onLoad:T,onError:C,...h})=>{const l={...Z,...U},[d,I]=t.useState(!1),[n,L]=t.useState(!1),[v,R]=t.useState(!1),[u,q]=t.useState(!0),[s,g]=t.useState(!1),[o,S]=t.useState(!1),$=t.useRef(null),M=t.useRef(null),F=t.useCallback(a=>B(a,K.card),[]),x=t.useCallback(a=>{q(!1),g(!1),T?.(a)},[T]),P=t.useCallback(a=>{q(!1),c&&!o?(S(!0),g(!1)):g(!0),C?.(a)},[C,c,o]),p=t.useCallback(()=>{i&&!s&&(R(!0),I(!0),E?.(),setTimeout(()=>{R(!1)},l.openDuration))},[i,s,E,l.openDuration]),m=t.useCallback(()=>{L(!0),N?.(),setTimeout(()=>{I(!1),L(!1)},l.closeDuration)},[N,l.closeDuration]),D=t.useCallback(a=>{(a.target===$.current||a.target===a.currentTarget)&&m()},[m]),f=t.useCallback(a=>{a.key==="Escape"&&m()},[m]);t.useEffect(()=>{if(d){document.addEventListener("keydown",f);const a=document.body.style.overflow,A=document.documentElement.style.scrollbarGutter,H=document.body.style.paddingRight,_=window.innerWidth-document.documentElement.clientWidth;return document.body.style.overflow="hidden",document.body.style.paddingRight=`${_}px`,document.documentElement.style.scrollbarGutter="auto",()=>{document.removeEventListener("keydown",f),n?setTimeout(()=>{document.body.style.overflow=a,document.body.style.paddingRight=H,document.documentElement.style.scrollbarGutter=A},50):(document.body.style.overflow=a,document.body.style.paddingRight=H,document.documentElement.style.scrollbarGutter=A)}}else document.removeEventListener("keydown",f)},[d,n,f]);const z=t.useMemo(()=>["relative","rounded-lg","overflow-hidden","border-2","border-accent/30","transition-all","duration-300","ease-in-out","transform","flex","justify-center","content-center",i&&!s?"cursor-pointer hover:scale-105 hover:border-accent hover:shadow-lg-accent focus:outline-none focus:ring-4 focus:ring-accent/50":"",F(w),j].filter(Boolean).join(" "),[i,s,F,w,j]),O=t.useMemo(()=>({role:i?"button":"img",tabIndex:i&&!s?0:-1,"aria-label":i?`${r}. Click to enlarge`:r,"aria-expanded":i?d:void 0,onKeyDown:i&&!s?a=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),p())}:void 0}),[i,s,r,d,p]),G=t.useMemo(()=>e.jsxs("div",{className:z,onClick:p,...O,children:[u&&e.jsx("div",{className:"absolute m-0 inset-0 flex items-center justify-center bg-surface border-2 border-accent/20",role:"status","aria-label":"Loading image",children:k||e.jsx("div",{className:"animate-pulse bg-gradient-to-r from-accent/20 to-secondary/20 w-full h-full flex items-center justify-center",children:e.jsx("div",{className:"text-muted text-sm",children:"Loading..."})})}),s?e.jsx("div",{className:"flex items-center justify-center bg-surface border-2 border-error/30 text-error p-4 rounded-lg min-h-[100px]",role:"alert","aria-label":"Failed to load image",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl mb-2","aria-hidden":"true",children:"âš "}),e.jsx("div",{className:"text-sm",children:"Failed to load image"})]})}):o?e.jsx("img",{ref:M,src:c,alt:`${r} (fallback)`,className:"w-full h-full m-0 object-cover transition-opacity duration-300",style:{opacity:u?0:1},onLoad:x,onError:()=>{g(!0),S(!1)},loading:b?"eager":"lazy",decoding:"async",...h}):e.jsx("img",{ref:M,src:y,alt:r,className:"w-full h-full m-0 object-cover transition-opacity duration-300",style:{opacity:u?0:1},onLoad:x,onError:P,loading:b?"eager":"lazy",decoding:"async",...h}),i&&!u&&!s&&e.jsx("div",{className:"absolute inset-0 bg-black/0 hover:bg-black/20 transition-all duration-300 flex items-center justify-center opacity-0 hover:opacity-100","aria-hidden":"true",children:e.jsx("div",{className:"bg-accent/90 text-base px-3 py-1 rounded-md text-sm font-semibold tracking-wider uppercase",children:"Preview"})})]}),[z,p,O,u,k,s,o,c,r,x,b,h,y,P,i]);return e.jsxs(e.Fragment,{children:[G,d&&e.jsxs("div",{ref:$,className:`fixed z-50 flex items-center justify-center p-4 transition-all ease-out ${V} ${n?"bg-black/0 backdrop-blur-none opacity-0 duration-300":v?"bg-black/80 backdrop-blur-sm opacity-100 duration-500":"bg-black/80 backdrop-blur-sm opacity-100 duration-300"}`,style:{top:0,left:0,width:"100vw",height:"100vh",maxWidth:"none"},onClick:D,role:"dialog","aria-modal":"true","aria-label":`Preview: ${r}`,children:[l.cyberpunkEffects&&e.jsx("div",{className:`absolute transition-opacity duration-300 ${n?"opacity-0":"opacity-20"}`,style:{top:0,left:0,width:"100vw",height:"100vh"},"aria-hidden":"true",children:e.jsx("div",{className:"absolute",style:{top:0,left:0,width:"100vw",height:"100vh",backgroundImage:`
                  linear-gradient(rgba(0, 255, 136, 0.3) 1px, transparent 1px),
                  linear-gradient(90deg, rgba(0, 255, 136, 0.3) 1px, transparent 1px)
                `,backgroundSize:"40px 40px"}})}),e.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",onClick:D,children:[e.jsx("button",{onClick:m,className:`absolute top-4 right-4 text-white hover:text-accent/80 transition-all duration-300 font-bold z-20 rounded-full w-10 h-10 flex items-center justify-center cursor-pointer transform ${n?"bg-black/0 scale-50 rotate-180 opacity-0":v?"bg-black/50 scale-0 rotate-0 opacity-0 duration-500":"bg-black/50 hover:bg-accent/20 scale-100 rotate-0 opacity-100 hover:scale-110"}`,style:{lineHeight:"1"},children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",className:"relative",children:[e.jsx("path",{d:"M12 4L4 12M4 4L12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M12 4L4 12M4 4L12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"absolute inset-0 text-accent opacity-0 hover:opacity-100 transition-opacity duration-200 animate-pulse"})]})}),e.jsxs("div",{className:`relative max-w-full max-h-full flex items-center justify-center transition-all ease-out ${n?"scale-75 opacity-0 rotate-1 duration-300":v?"scale-95 opacity-0 rotate-0 duration-500":"scale-100 opacity-100 rotate-0 duration-300"}`,onClick:a=>a.stopPropagation(),children:[l.cyberpunkEffects&&e.jsx("div",{className:`absolute inset-0 rounded-lg border-2 transition-all duration-300 ${n?"border-transparent shadow-none":"border-accent shadow-lg-accent animate-pulse"}`,"aria-hidden":"true"}),l.cyberpunkEffects&&e.jsx("div",{className:`absolute inset-0 overflow-hidden rounded-lg transition-opacity duration-300 z-10 ${n?"opacity-0":"opacity-100"}`,"aria-hidden":"true",children:e.jsxs("div",{className:"absolute top-0 left-0 w-full h-px animate-scan opacity-20",children:[e.jsx("div",{className:"w-full h-full bg-gradient-to-r from-transparent via-accent to-transparent shadow-lg-accent opacity-80"}),e.jsx("div",{className:"absolute inset-0 w-full h-full bg-gradient-to-r from-transparent via-white to-transparent opacity-60"})]})}),e.jsx("img",{src:o?c:y,alt:o?`${r} (fallback)`:r,className:`max-w-[95vw] max-h-[95vh] w-auto h-auto object-contain rounded-lg transition-all duration-300 ease-out ${n?"filter blur-sm brightness-50":"filter blur-0 brightness-100"}`,style:{maxWidth:"95vw",maxHeight:"95vh",width:"auto",height:"auto"}}),e.jsx("div",{className:`absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent p-3 rounded-b-lg transition-all duration-300 ${n?"translate-y-4 opacity-0":"translate-y-0 opacity-100"}`,children:e.jsxs("p",{className:"text-white text-sm font-medium truncate relative",children:[o?`${r} (fallback)`:r,l.cyberpunkEffects&&e.jsx("span",{className:"absolute inset-0 text-accent opacity-20 animate-pulse",children:o?`${r} (fallback)`:r})]})}),l.cyberpunkEffects&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`absolute top-2 left-2 w-4 h-4 border-l-2 border-t-2 border-accent transition-all duration-300 ${n?"opacity-0 scale-0":"opacity-60 scale-100"}`,"aria-hidden":"true"}),e.jsx("div",{className:`absolute top-2 right-2 w-4 h-4 border-r-2 border-t-2 border-accent transition-all duration-300 ${n?"opacity-0 scale-0":"opacity-60 scale-100"}`,"aria-hidden":"true"}),e.jsx("div",{className:`absolute bottom-2 left-2 w-4 h-4 border-l-2 border-b-2 border-accent transition-all duration-300 ${n?"opacity-0 scale-0":"opacity-60 scale-100"}`,"aria-hidden":"true"}),e.jsx("div",{className:`absolute bottom-2 right-2 w-4 h-4 border-r-2 border-b-2 border-accent transition-all duration-300 ${n?"opacity-0 scale-0":"opacity-60 scale-100"}`,"aria-hidden":"true"})]})]})]})]})]})});W.displayName="CyberUI.Image";W.__docgenInfo={description:`CyberUI Image Component

A cyberpunk-themed image component with click-to-expand preview functionality,
loading states, error handling, and smooth animations.

@example
\`\`\`tsx
<Image
  src="/cyber-city.jpg"
  alt="Cyberpunk cityscape"
  size="lg"
  onPreviewOpen={() => console.log('Preview opened')}
/>
\`\`\``,methods:[],displayName:"CyberUI.Image",props:{onPreviewOpen:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Fired when preview opens"},onPreviewClose:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Fired when preview closes"},onLoad:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: React.SyntheticEvent<HTMLImageElement>) => void",signature:{arguments:[{type:{name:"ReactSyntheticEvent",raw:"React.SyntheticEvent<HTMLImageElement>",elements:[{name:"HTMLImageElement"}]},name:"event"}],return:{name:"void"}}},description:"Fired when image loads successfully"},onError:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: React.SyntheticEvent<HTMLImageElement>) => void",signature:{arguments:[{type:{name:"ReactSyntheticEvent",raw:"React.SyntheticEvent<HTMLImageElement>",elements:[{name:"HTMLImageElement"}]},name:"event"}],return:{name:"void"}}},description:"Fired when image fails to load"},src:{required:!0,tsType:{name:"string"},description:"Image source URL (required)"},alt:{required:!0,tsType:{name:"string"},description:"Alternative text for accessibility (required)"},size:{required:!1,tsType:{name:"union",raw:`T | {
  base?: T;
  sm?: T;
  md?: T;
  lg?: T;
  xl?: T;
  '2xl'?: T;
}`,elements:[{name:"union",raw:'"sm" | "md" | "lg"',elements:[{name:"literal",value:'"sm"'},{name:"literal",value:'"md"'},{name:"literal",value:'"lg"'}],required:!1},{name:"signature",type:"object",raw:`{
  base?: T;
  sm?: T;
  md?: T;
  lg?: T;
  xl?: T;
  '2xl'?: T;
}`,signature:{properties:[{key:"base",value:{name:"union",raw:'"sm" | "md" | "lg"',elements:[{name:"literal",value:'"sm"'},{name:"literal",value:'"md"'},{name:"literal",value:'"lg"'}],required:!1}},{key:"sm",value:{name:"union",raw:'"sm" | "md" | "lg"',elements:[{name:"literal",value:'"sm"'},{name:"literal",value:'"md"'},{name:"literal",value:'"lg"'}],required:!1}},{key:"md",value:{name:"union",raw:'"sm" | "md" | "lg"',elements:[{name:"literal",value:'"sm"'},{name:"literal",value:'"md"'},{name:"literal",value:'"lg"'}],required:!1}},{key:"lg",value:{name:"union",raw:'"sm" | "md" | "lg"',elements:[{name:"literal",value:'"sm"'},{name:"literal",value:'"md"'},{name:"literal",value:'"lg"'}],required:!1}},{key:"xl",value:{name:"union",raw:'"sm" | "md" | "lg"',elements:[{name:"literal",value:'"sm"'},{name:"literal",value:'"md"'},{name:"literal",value:'"lg"'}],required:!1}},{key:"2xl",value:{name:"union",raw:'"sm" | "md" | "lg"',elements:[{name:"literal",value:'"sm"'},{name:"literal",value:'"md"'},{name:"literal",value:'"lg"'}],required:!1}}]}}]},description:"Size of the image container",defaultValue:{value:'"md"',computed:!1}},preview:{required:!1,tsType:{name:"boolean"},description:"Enable click-to-expand preview functionality",defaultValue:{value:"true",computed:!1}},fallback:{required:!1,tsType:{name:"string"},description:"Fallback image URL when main image fails to load"},placeholder:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"Custom loading placeholder component"},className:{required:!1,tsType:{name:"string"},description:"Additional CSS classes",defaultValue:{value:'""',computed:!1}},animation:{required:!1,tsType:{name:"ImageAnimationConfig"},description:"Animation configuration"},eager:{required:!1,tsType:{name:"boolean"},description:"Disable lazy loading (images load immediately)",defaultValue:{value:"false",computed:!1}},previewClassName:{required:!1,tsType:{name:"string"},description:"Custom preview container styles",defaultValue:{value:'""',computed:!1}}},composes:["Omit"]};export{W as I};
