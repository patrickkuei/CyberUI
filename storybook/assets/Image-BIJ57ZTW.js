import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{r as a}from"./iframe-CoA5WcsP.js";import{r as B}from"./index-B1VNQ6U5.js";import{g as K,R as Z}from"./responsive-Zzx7ci0z.js";const J={openDuration:50,closeDuration:350,cyberpunkEffects:!0},A=a.memo(({src:f,alt:n,size:w="md",preview:r=!0,fallback:c,placeholder:k,className:j="",animation:H,eager:y=!1,previewClassName:W="",onPreviewOpen:E,onPreviewClose:N,onLoad:T,onError:C,...b})=>{const l={...J,...H},[d,I]=a.useState(!1),[i,L]=a.useState(!1),[h,R]=a.useState(!1),[u,q]=a.useState(!0),[s,g]=a.useState(!1),[o,S]=a.useState(!1),$=a.useRef(null),M=a.useRef(null),P=a.useCallback(t=>K(t,Z.card),[]),v=a.useCallback(t=>{q(!1),g(!1),T?.(t)},[T]),D=a.useCallback(t=>{q(!1),c&&!o?(S(!0),g(!1)):g(!0),C?.(t)},[C,c,o]),p=a.useCallback(()=>{r&&!s&&(R(!0),I(!0),E?.(),setTimeout(()=>{R(!1)},l.openDuration))},[r,s,E,l.openDuration]),m=a.useCallback(()=>{L(!0),N?.(),setTimeout(()=>{I(!1),L(!1)},l.closeDuration)},[N,l.closeDuration]),F=a.useCallback(t=>{(t.target===$.current||t.target===t.currentTarget)&&m()},[m]),x=a.useCallback(t=>{t.key==="Escape"&&m()},[m]);a.useEffect(()=>{if(d){document.addEventListener("keydown",x);const t=document.body.style.overflow,V=document.documentElement.style.scrollbarGutter,_=document.body.style.paddingRight,G=window.innerWidth-document.documentElement.clientWidth;return document.body.style.overflow="hidden",document.body.style.paddingRight=`${G}px`,document.documentElement.style.scrollbarGutter="auto",()=>{document.removeEventListener("keydown",x),document.body.style.overflow=t,document.body.style.paddingRight=_,document.documentElement.style.scrollbarGutter=V}}},[d,x]);const z=a.useMemo(()=>["relative","rounded-lg","overflow-hidden","border-2","border-accent/30","transition-all","duration-300","ease-in-out","transform","flex","justify-center","content-center",r&&!s?"cursor-pointer hover:scale-105 hover:border-accent hover:shadow-lg-accent focus:outline-none focus:ring-4 focus:ring-accent/50":"",P(w),j].filter(Boolean).join(" "),[r,s,P,w,j]),O=a.useMemo(()=>({role:r?"button":"img",tabIndex:r&&!s?0:-1,"aria-label":r?`${n}. Click to enlarge`:n,"aria-expanded":r?d:void 0,onKeyDown:r&&!s?t=>{(t.key==="Enter"||t.key===" ")&&(t.preventDefault(),p())}:void 0}),[r,s,n,d,p]),U=a.useMemo(()=>e.jsxs("div",{className:z,onClick:p,...O,children:[u&&e.jsx("div",{className:"absolute m-0 inset-0 flex items-center justify-center bg-surface border-2 border-accent/20",role:"status","aria-label":"Loading image",children:k||e.jsx("div",{className:"animate-pulse bg-gradient-to-r from-accent/20 to-secondary/20 w-full h-full flex items-center justify-center",children:e.jsx("div",{className:"text-muted text-sm",children:"Loading..."})})}),s?e.jsx("div",{className:"flex items-center justify-center bg-surface border-2 border-error/30 text-error p-4 rounded-lg min-h-[100px]",role:"alert","aria-label":"Failed to load image",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl mb-2","aria-hidden":"true",children:"âš "}),e.jsx("div",{className:"text-sm",children:"Failed to load image"})]})}):o?e.jsx("img",{ref:M,src:c,alt:`${n} (fallback)`,className:"w-full h-full m-0 object-cover transition-opacity duration-300",style:{opacity:u?0:1},onLoad:v,onError:()=>{g(!0),S(!1)},loading:y?"eager":"lazy",decoding:"async",...b}):e.jsx("img",{ref:M,src:f,alt:n,className:"w-full h-full m-0 object-cover transition-opacity duration-300",style:{opacity:u?0:1},onLoad:v,onError:D,loading:y?"eager":"lazy",decoding:"async",...b}),r&&!u&&!s&&e.jsx("div",{className:"absolute inset-0 bg-black/0 hover:bg-black/20 transition-all duration-300 flex items-center justify-center opacity-0 hover:opacity-100","aria-hidden":"true",children:e.jsx("div",{className:"bg-accent/90 text-base px-3 py-1 rounded-md text-sm font-semibold tracking-wider uppercase",children:"Preview"})})]}),[z,p,O,u,k,s,o,c,n,v,y,b,f,D,r]);return e.jsxs(e.Fragment,{children:[U,d&&B.createPortal(e.jsxs("div",{ref:$,className:`fixed z-50 flex items-center justify-center p-4 transition-all ease-out ${W} ${i?"bg-black/0 backdrop-blur-none opacity-0 duration-300":h?"bg-black/80 backdrop-blur-sm opacity-100 duration-500":"bg-black/80 backdrop-blur-sm opacity-100 duration-300"}`,style:{top:0,left:0,width:"100vw",height:"100vh",maxWidth:"none"},onClick:F,role:"dialog","aria-modal":"true","aria-label":`Preview: ${n}`,children:[l.cyberpunkEffects&&e.jsx("div",{className:`absolute transition-opacity duration-300 ${i?"opacity-0":"opacity-20"}`,style:{top:0,left:0,width:"100vw",height:"100vh"},"aria-hidden":"true",children:e.jsx("div",{className:"absolute",style:{top:0,left:0,width:"100vw",height:"100vh",backgroundImage:`
                  linear-gradient(rgba(0, 255, 136, 0.3) 1px, transparent 1px),
                  linear-gradient(90deg, rgba(0, 255, 136, 0.3) 1px, transparent 1px)
                `,backgroundSize:"40px 40px"}})}),e.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",onClick:F,children:[e.jsx("button",{onClick:m,className:`absolute top-4 right-4 text-white hover:text-accent/80 transition-all duration-300 font-bold z-20 rounded-full w-10 h-10 flex items-center justify-center cursor-pointer transform ${i?"bg-black/0 scale-50 rotate-180 opacity-0":h?"bg-black/50 scale-0 rotate-0 opacity-0 duration-500":"bg-black/50 hover:bg-accent/20 scale-100 rotate-0 opacity-100 hover:scale-110"}`,style:{lineHeight:"1"},children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",className:"relative",children:[e.jsx("path",{d:"M12 4L4 12M4 4L12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M12 4L4 12M4 4L12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"absolute inset-0 text-accent opacity-0 hover:opacity-100 transition-opacity duration-200 animate-pulse"})]})}),e.jsxs("div",{className:`relative max-w-full max-h-full flex items-center justify-center transition-all ease-out ${i?"scale-75 opacity-0 rotate-1 duration-300":h?"scale-95 opacity-0 rotate-0 duration-500":"scale-100 opacity-100 rotate-0 duration-300"}`,onClick:t=>t.stopPropagation(),children:[l.cyberpunkEffects&&e.jsx("div",{className:`absolute inset-0 rounded-lg border-2 transition-all duration-300 ${i?"border-transparent shadow-none":"border-accent shadow-lg-accent animate-pulse"}`,"aria-hidden":"true"}),l.cyberpunkEffects&&e.jsx("div",{className:`absolute inset-0 overflow-hidden rounded-lg transition-opacity duration-300 z-10 ${i?"opacity-0":"opacity-100"}`,"aria-hidden":"true",children:e.jsxs("div",{className:"absolute top-0 left-0 w-full h-px animate-scan opacity-20",children:[e.jsx("div",{className:"w-full h-full bg-gradient-to-r from-transparent via-accent to-transparent shadow-lg-accent opacity-80"}),e.jsx("div",{className:"absolute inset-0 w-full h-full bg-gradient-to-r from-transparent via-white to-transparent opacity-60"})]})}),e.jsx("img",{src:o?c:f,alt:o?`${n} (fallback)`:n,className:`max-w-[95vw] max-h-[95vh] w-auto h-auto object-contain rounded-lg transition-all duration-300 ease-out ${i?"filter blur-sm brightness-50":"filter blur-0 brightness-100"}`,style:{maxWidth:"95vw",maxHeight:"95vh",width:"auto",height:"auto"}}),e.jsx("div",{className:`absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent p-3 rounded-b-lg transition-all duration-300 ${i?"translate-y-4 opacity-0":"translate-y-0 opacity-100"}`,children:e.jsxs("p",{className:"text-white text-sm font-medium truncate relative",children:[o?`${n} (fallback)`:n,l.cyberpunkEffects&&e.jsx("span",{className:"absolute inset-0 text-accent opacity-20 animate-pulse",children:o?`${n} (fallback)`:n})]})}),l.cyberpunkEffects&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`absolute top-2 left-2 w-4 h-4 border-l-2 border-t-2 border-accent transition-all duration-300 ${i?"opacity-0 scale-0":"opacity-60 scale-100"}`,"aria-hidden":"true"}),e.jsx("div",{className:`absolute top-2 right-2 w-4 h-4 border-r-2 border-t-2 border-accent transition-all duration-300 ${i?"opacity-0 scale-0":"opacity-60 scale-100"}`,"aria-hidden":"true"}),e.jsx("div",{className:`absolute bottom-2 left-2 w-4 h-4 border-l-2 border-b-2 border-accent transition-all duration-300 ${i?"opacity-0 scale-0":"opacity-60 scale-100"}`,"aria-hidden":"true"}),e.jsx("div",{className:`absolute bottom-2 right-2 w-4 h-4 border-r-2 border-b-2 border-accent transition-all duration-300 ${i?"opacity-0 scale-0":"opacity-60 scale-100"}`,"aria-hidden":"true"})]})]})]})]}),document.body)]})});A.displayName="CyberUI.Image";A.__docgenInfo={description:`CyberUI Image Component

A cyberpunk-themed image component with click-to-expand preview functionality,
loading states, error handling, and smooth animations.

@example
\`\`\`tsx
<Image
  src="/cyber-city.jpg"
  alt="Cyberpunk cityscape"
  size="lg"
  onPreviewOpen={() => console.log('Preview opened')}
/>
\`\`\``,methods:[],displayName:"CyberUI.Image",props:{onPreviewOpen:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Fired when preview opens"},onPreviewClose:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Fired when preview closes"},onLoad:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: React.SyntheticEvent<HTMLImageElement>) => void",signature:{arguments:[{type:{name:"ReactSyntheticEvent",raw:"React.SyntheticEvent<HTMLImageElement>",elements:[{name:"HTMLImageElement"}]},name:"event"}],return:{name:"void"}}},description:"Fired when image loads successfully"},onError:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: React.SyntheticEvent<HTMLImageElement>) => void",signature:{arguments:[{type:{name:"ReactSyntheticEvent",raw:"React.SyntheticEvent<HTMLImageElement>",elements:[{name:"HTMLImageElement"}]},name:"event"}],return:{name:"void"}}},description:"Fired when image fails to load"},src:{required:!0,tsType:{name:"string"},description:"Image source URL (required)"},alt:{required:!0,tsType:{name:"string"},description:"Alternative text for accessibility (required)"},size:{required:!1,tsType:{name:"union",raw:`T | {
  base?: T;
  sm?: T;
  md?: T;
  lg?: T;
  xl?: T;
  '2xl'?: T;
}`,elements:[{name:"union",raw:'"sm" | "md" | "lg"',elements:[{name:"literal",value:'"sm"'},{name:"literal",value:'"md"'},{name:"literal",value:'"lg"'}],required:!1},{name:"signature",type:"object",raw:`{
  base?: T;
  sm?: T;
  md?: T;
  lg?: T;
  xl?: T;
  '2xl'?: T;
}`,signature:{properties:[{key:"base",value:{name:"union",raw:'"sm" | "md" | "lg"',elements:[{name:"literal",value:'"sm"'},{name:"literal",value:'"md"'},{name:"literal",value:'"lg"'}],required:!1}},{key:"sm",value:{name:"union",raw:'"sm" | "md" | "lg"',elements:[{name:"literal",value:'"sm"'},{name:"literal",value:'"md"'},{name:"literal",value:'"lg"'}],required:!1}},{key:"md",value:{name:"union",raw:'"sm" | "md" | "lg"',elements:[{name:"literal",value:'"sm"'},{name:"literal",value:'"md"'},{name:"literal",value:'"lg"'}],required:!1}},{key:"lg",value:{name:"union",raw:'"sm" | "md" | "lg"',elements:[{name:"literal",value:'"sm"'},{name:"literal",value:'"md"'},{name:"literal",value:'"lg"'}],required:!1}},{key:"xl",value:{name:"union",raw:'"sm" | "md" | "lg"',elements:[{name:"literal",value:'"sm"'},{name:"literal",value:'"md"'},{name:"literal",value:'"lg"'}],required:!1}},{key:"2xl",value:{name:"union",raw:'"sm" | "md" | "lg"',elements:[{name:"literal",value:'"sm"'},{name:"literal",value:'"md"'},{name:"literal",value:'"lg"'}],required:!1}}]}}]},description:"Size of the image container",defaultValue:{value:'"md"',computed:!1}},preview:{required:!1,tsType:{name:"boolean"},description:"Enable click-to-expand preview functionality",defaultValue:{value:"true",computed:!1}},fallback:{required:!1,tsType:{name:"string"},description:"Fallback image URL when main image fails to load"},placeholder:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"Custom loading placeholder component"},className:{required:!1,tsType:{name:"string"},description:"Additional CSS classes",defaultValue:{value:'""',computed:!1}},animation:{required:!1,tsType:{name:"ImageAnimationConfig"},description:"Animation configuration"},eager:{required:!1,tsType:{name:"boolean"},description:"Disable lazy loading (images load immediately)",defaultValue:{value:"false",computed:!1}},previewClassName:{required:!1,tsType:{name:"string"},description:"Custom preview container styles",defaultValue:{value:'""',computed:!1}}},composes:["Omit"]};export{A as I};
